---
import { getPlayerData } from "../db/queries";
import Layout from "../layouts/Layout.astro";

const title = "DivNectar";
const description = "DivNectar - FOSS software and the Minecrafts.";
const image = {
  url: "https://divnectar.com/skynectar-logo.png",
  alt: "SkyNectar Logo",
};

const players = await getPlayerData();

---

<Layout title={title} description={description} image={image}>
  <div class="grid px-8 md:px-4 w-full grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
    {
      players.map((player) => (
        <a
          href={`/players/${player.uuid}`}
          class="flex flex-col items-center rounded-lg shadow md:flex-row md:max-w-xl dark:border-gray-700 dark:bg-ctp-crust dark:hover:bg-ctp-mantle"
        >
          <img
            transition:name={player.uuid}
            class="object-contain aspect-auto w-full rounded-t-lg h-48 md:w-48 md:rounded-none md:rounded-s-lg"
            src={`https://mc-heads.net/body/${player.uuid}`}
            alt=""
          />
          <div class="flex flex-col justify-between p-4 leading-normal">
            <h5 class="mb-2 prose-xl font-bold tracking-tight text-white">
              {player.username}
            </h5>
          </div>
        </a>
      ))
    }
  </div>
</Layout>
