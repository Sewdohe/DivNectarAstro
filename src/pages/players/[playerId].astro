---
// src/pages/players/[playerId].astro
import { getPlayerData } from '../../db/queries';

export async function getStaticPaths() {
    const players = await getPlayerData();
    return players.map(player => ({
        params: { playerId: player.uuid },
    }));
}

export async function get({ params }: { params: { playerId: string } }) {
    const playerId = params.playerId;
    const players = await getPlayerData();
    const player = players.find(p => p.uuid.toString() === playerId);
    return { props: { player } };
}

interface Player {
    uuid: string;
    username: string;
}

const { player } = Astro.props as { player: Player };
---

<h1>{player.username}</h1>
